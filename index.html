<body><script type="text/javascript">
	atOptions = {
		'key' : 'cb4b58492806479c22757b2ea0848b27',
		'format' : 'iframe',
		'height' : 60,
		'width' : 468,
		'params' : {}
	};
</script>
<script type="text/javascript" src="//www.highperformanceformat.com/cb4b58492806479c22757b2ea0848b27/invoke.js"></script></body>
<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡§∞‡§ï‡•ç‡§∑‡§æ‡§¨‡§Ç‡§ß‡§® ‡§ï‡•Ä ‡§∂‡•Å‡§≠‡§ï‡§æ‡§Æ‡§®‡§æ‡§è‡§Å</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Eczar:wght@600;700&family=Karma:wght@400;700&family=Noto+Sans+Devanagari:wght@400;700&family=Prata&family=Mukta:wght@400;700&family=Baloo+2:wght@700&family=Lobster&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Mukta', 'Noto Sans Devanagari', sans-serif;
            display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 100vh; margin: 0;
            background: linear-gradient(135deg, #4B0082 0%, #2B0036 100%); color: #FDF5E6;
            text-align: center; padding: 20px; box-sizing: border-box; overflow-x: hidden; position: relative; 
        }

        /* ‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§ï‡§Ç‡§ü‡•á‡§Ç‡§ü ‡§∞‡•à‡§™‡§∞ (‡§Ö‡§¨ ‡§∏‡•Ä‡§ß‡•á ‡§¶‡§ø‡§ñ‡•á‡§ó‡§æ) */
        .main-content-wrapper {
            opacity: 1; /* ‡§∏‡•Ä‡§ß‡•á ‡§¶‡§ø‡§ñ‡•á‡§ó‡§æ */
            width: 100%; 
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        #fireflyContainer { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 0; overflow: hidden; }
        .firefly { position: absolute; width: 8px; height: 8px; opacity: 0; background-color: #FFFFAA; border-radius: 50%; box-shadow: 0 0 6px #FFFF00, 0 0 10px #FFD700, 0 0 15px #FFA500; animation: fallAndTwinkleAndFade linear infinite; filter: blur(1px); }
        @keyframes fallAndTwinkleAndFade { 0% { transform: translateY(-20px) scale(0.7); opacity: 0; } 10%, 90% { opacity: 0.9; } 25% { transform: translateY(25vh) translateX(15px) scale(1); } 50% { transform: translateY(50vh) translateX(-15px) scale(0.8); opacity: 0.7; } 75% { transform: translateY(75vh) translateX(10px) scale(1.1); } 100% { transform: translateY(105vh) scale(0.7); opacity: 0; } }
        .firecracker-container { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 2; overflow: hidden; }
        .particle { position: absolute; border-radius: 50%; animation: burst 0.9s ease-out forwards; }
        @keyframes burst { 0% { transform: scale(0.3) translate(0, 0); opacity: 1; filter: brightness(2) saturate(1.8); } 100% { transform: scale(1.3) translate(var(--tx), var(--ty)); opacity: 0; filter: brightness(0.7) saturate(1); } }
        
        .container { background-color: rgba(25, 0, 35, 0.3); padding: 30px; border-radius: 20px; box-shadow: 0 10px 30px rgba(255, 215, 0, 0.2), 0 0 0 2px rgba(255, 215, 0, 0.7), inset 0 0 15px rgba(75, 0, 130, 0.4); border: 1px solid rgba(255, 215, 0, 0.5); max-width: 580px; width: 90%; position: relative; z-index: 1; }
        .container::before { content: ''; position: absolute; top: -8px; left: -8px; right: -8px; bottom: -8px; border: 4px dashed #FFD700; border-radius: 26px; z-index: -1; opacity: 0.6; }
        #rakhiGif { max-width: 100%; height: auto; border-radius: 15px; margin-bottom: 20px; border: 5px solid #FFD700; box-shadow: 0 0 20px rgba(255, 215, 0, 0.6); }
        .shayari-container { font-family: 'Mukta', 'Karma', serif; font-size: 1.15em; color: #F0E68C; margin: 15px auto 25px; padding: 15px; line-height: 1.7; max-width: 90%; border-top: 1px solid rgba(255, 215, 0, 0.3); border-bottom: 1px solid rgba(255, 215, 0, 0.3); background-color: rgba(75, 0, 130, 0.2); border-radius: 10px; text-shadow: 1px 1px 2px rgba(0,0,0,0.4); }
        .shayari-container p { margin: 5px 0; }
        .shayari-container .rakhi-wish { font-weight: bold; color: #FFD700; margin-top: 10px; display: block; }
        #greetingMessageContainer { font-family: 'Mukta', 'Noto Sans Devanagari', sans-serif; color: #FFFACD; margin-bottom: 20px; line-height: 1.5; min-height: 200px; display: flex; flex-direction: column; align-items: center; justify-content: center; }
        .greeting-line { display: block; width: 100%; text-align: center; }
        .greeting-sender-name { font-family: 'Lobster', 'Eczar', cursive; font-size: 2.8em; color: #FFFFFF; font-weight: normal; margin-bottom: 8px; padding: 5px 0px; text-shadow: 0 0 8px rgba(255,255,255,0.7), 0 0 15px #FFC107, 0 0 25px #FF9800, 2px 2px 4px rgba(40,0,50,0.9); animation: gentleTextFlow 4s infinite ease-in-out; display: inline-block; width: auto; position: relative; }
        .greeting-sender-name.default-greeting-name { font-family: 'Prata', 'Karma', serif; font-size: 1.8em; color: #FFFACD; animation: none; background: none; border: none; text-shadow: 1px 1px 3px rgba(0,0,0,0.5), 0 0 10px #FFD700; padding: 0; margin-bottom: 10px; }
        @keyframes gentleTextFlow { 0%, 100% { transform: translateY(0) scale(1); letter-spacing: 0px; text-shadow: 0 0 8px rgba(255,255,255,0.6), 0 0 15px #FFC107, 0 0 25px #FF9800, 2px 2px 4px rgba(40,0,50,0.8); } 50% { transform: translateY(-3px) scale(1.02); letter-spacing: 1px; text-shadow: 0 0 10px rgba(255,255,255,0.8), 0 0 20px #FFC107, 0 0 30px #FF9800, 0 0 40px #FFEB3B, 2px 2px 6px rgba(40,0,50,0.7); } }
        .greeting-line.from-text { font-size: 1.1em; color: #E0B0FF; margin-bottom: 5px; }
        .greeting-line.to-family-text { font-size: 1.2em; color: #FFFACD; font-weight: 500; margin-bottom: 10px; text-shadow: 1px 1px 2px rgba(0,0,0,0.3); }
        .greeting-line.timer-line { font-size: 1.3em; color: #F0E68C; margin-bottom: 10px; }
        .countdown-timer { font-weight: bold; color: #FFFFFF; background-color: rgba(43,0,54, 0.7); padding: 3px 8px; border-radius: 5px; }
        .greeting-line.rakhi-text { font-size: 1.6em; color: #FFD700; font-weight: bold; margin-bottom: 5px; text-shadow: 1px 1px 2px rgba(0,0,0,0.5); }
        .greeting-line.main-wish { font-family: 'Baloo 2', 'Prata', cursive; font-size: 2.3em; color: #FF4081; font-weight: 700; text-shadow: 1px 1px 0 #FFF, 0 0 10px #FFF, 0 0 20px #FF4081, 0 0 30px #FF4081, 2px 2px 5px rgba(0,0,0,0.6); animation: glowWishBright 2.5s infinite alternate; }
        @keyframes glowWishBright { from { opacity: 0.9; text-shadow: 1px 1px 0 #FFF, 0 0 10px #FFF, 0 0 15px #FF4081, 0 0 25px #FF4081, 2px 2px 5px rgba(0,0,0,0.6); } to { opacity: 1; text-shadow: 1px 1px 0 #FFF, 0 0 15px #FFF, 0 0 25px #FF4081, 0 0 35px #FF4081, 0 0 45px #FF1493, 2px 2px 5px rgba(0,0,0,0.5); } }
        .input-area { margin-top: 20px; }
        .input-area label { display: block; margin-bottom: 12px; font-size: 1.3em; color: #E0B0FF; font-weight: bold; text-shadow: 1px 1px 2px #000; }
        #yourNameInput { width: calc(100% - 28px); padding: 15px; margin-bottom: 15px; border: 2px solid #8A2BE2; border-radius: 10px; font-size: 1.1em; background-color: rgba(0,0,0, 0.2); color: #FFFACD; caret-color: #FFD700; }
        #yourNameInput::placeholder { color: #D8BFD8; }
        #yourNameInput:focus { border-color: #FFD700; box-shadow: 0 0 15px rgba(255, 215, 0, 0.5); outline: none; background-color: rgba(0,0,0, 0.3); }
        .button-common { padding: 14px 26px; border-radius: 12px; font-size: 1.15em; font-family: 'Karma', sans-serif; font-weight: bold; cursor: pointer; transition: all 0.3s ease; text-shadow: 1px 1px 2px rgba(0,0,0,0.5); margin-bottom: 10px; display: inline-flex; align-items: center; justify-content: center; gap: 10px; }
        .button-icon { font-size: 1.3em; line-height: 1; display: inline-block; }
        #previewButton { background: linear-gradient(145deg, #673AB7, #311B92); color: #FFD700; border: 2px solid #FFD700; }
        #previewButton:hover { background: linear-gradient(145deg, #7E57C2, #4527A0); color: #FFFFFF; border-color: #FFFFFF; transform: translateY(-2px) scale(1.02); }
        #generateAndShareButton { background-color: #25D366; color: #FFFFFF; padding: 14px 24px; border: 1px solid #1DA851; border-radius: 25px; font-family: 'Mukta', 'Noto Sans Devanagari', sans-serif; box-shadow: 0 2px 5px rgba(0,0,0,0.2); text-shadow: none; display: none; }
        #generateAndShareButton .button-icon svg { fill: #FFFFFF; }
        #generateAndShareButton:hover { background-color: #1DA851; border-color: #128C7E; color: #FFFFFF; transform: translateY(-1px); }
        #generateAndShareButton:active { background-color: #128C7E; transform: translateY(0px); box-shadow: 0 1px 2px rgba(0,0,0,0.2); }
        #fallbackShareOptions { margin-top: 15px; padding: 15px; background-color: rgba(43,0,54, 0.4); border: 1px solid #8A2BE2AA; border-radius: 10px; word-break: break-all; display: none; box-shadow: inset 0 0 10px rgba(0,0,0,0.3); }
        #fallbackShareOptions p { margin: 8px 0 12px; font-size: 1em; font-weight: bold; color: #FFD700; text-shadow: 1px 1px 1px #000; }
        #fallbackShareOptions a { color: #DAA520; text-decoration: none; font-weight: bold; display: block; margin-bottom: 10px; }
        #fallbackShareOptions a:hover { color: #FFEC8B; text-decoration: underline; }
        #copyLinkButtonFallback { background: linear-gradient(145deg, #6c757d, #5a6268); color: white; border: 1px solid #888; padding: 10px 18px; font-size: 0.95em; }
        #copyLinkButtonFallback:hover { background: linear-gradient(145deg, #5a6268, #495057); transform: scale(1.05); }
        #playMuteButton { position: fixed; bottom: 10px; left: 20px; z-index: 105; padding: 10px 12px; background-color: rgba(75, 0, 130, 0.8); color: #FFD700; border: 1px solid #FFD700; border-radius: 50%; cursor: pointer; font-size: 1.2em; line-height: 1; width: 45px; height: 45px; box-shadow: 0 2px 8px rgba(0,0,0,0.4); transition: background-color 0.3s, transform 0.2s; display: flex; align-items: center; justify-content: center; }
        #playMuteButton:hover { background-color: rgba(100, 0, 150, 0.9); transform: scale(1.1); }
        #watermark { position: fixed; bottom: 10px; right: 15px; font-size: 10px; color: rgba(255, 255, 255, 0.35); font-family: Arial, sans-serif; z-index: 150; text-shadow: 1px 1px 1px rgba(0,0,0,0.5); user-select: none; pointer-events: none; }
    </style>
</head>
<body>
    <!-- ‡§á‡§Ç‡§ü‡•ç‡§∞‡•ã ‡§∏‡•ç‡§ï‡•ç‡§∞‡•Ä‡§® ‡§ï‡§æ HTML ‡§π‡§ü‡§æ ‡§¶‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ ‡§π‡•à -->

    <!-- ‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§ï‡§Ç‡§ü‡•á‡§Ç‡§ü ‡§∞‡•à‡§™‡§∞ (‡§Ö‡§¨ ‡§∏‡•Ä‡§ß‡•á visible) -->
    <div class="main-content-wrapper visible">
        <div id="fireflyContainer"></div>
        <div class="firecracker-container" id="firecrackerContainer"></div>
        <audio id="rakhiSong" src="DJ(256k).mp3" loop style="display:none;"></audio>
        <button id="playMuteButton">üîä</button>

        <div class="container">
            <img id="rakhiGif" src="giphy.gif" alt="‡§∞‡§ï‡•ç‡§∑‡§æ‡§¨‡§Ç‡§ß‡§® ‡§è‡§®‡•Ä‡§Æ‡•á‡§∂‡§®">
            <div class="shayari-container">
                <p>"‡§Ü‡§ú ‡§ï‡§æ ‡§¶‡§ø‡§® ‡§¨‡§π‡•Å‡§§ ‡§ñ‡§æ‡§∏ ‡§π‡•à,<br>‡§¨‡§π‡§®‡§æ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§¨‡§π‡•Å‡§§ ‡§ï‡•Å‡§õ ‡§Æ‡•á‡§∞‡•á ‡§™‡§æ‡§∏ ‡§π‡•à‡•§</p>
                <p>‡§§‡•á‡§∞‡•á ‡§∏‡•Å‡§ï‡•Ç‡§® ‡§ï‡•Ä ‡§ñ‡§æ‡§§‡§ø‡§∞ ‡§ì ‡§¨‡§π‡§®‡§æ,<br>‡§§‡•á‡§∞‡§æ ‡§≠‡§æ‡§à ‡§π‡§Æ‡•á‡§∂‡§æ ‡§§‡•á‡§∞‡•á ‡§™‡§æ‡§∏ ‡§π‡•à‡•§"</p>
                <p class="rakhi-wish">‡§∞‡§ï‡•ç‡§∑‡§æ‡§¨‡§Ç‡§ß‡§® ‡§ï‡•Ä ‡§∂‡•Å‡§≠‡§ï‡§æ‡§Æ‡§®‡§æ‡§è‡§Å!</p>
            </div>
            <div id="greetingMessageContainer">
                <!-- ‡§∂‡•Å‡§≠‡§ï‡§æ‡§Æ‡§®‡§æ ‡§∏‡§Ç‡§¶‡•á‡§∂ ‡§Ø‡§π‡§æ‡§Å JS ‡§∏‡•á ‡§Ü‡§è‡§ó‡§æ -->
            </div>
            <div class="input-area">
                <label for="yourNameInput">‡§Ü‡§™‡§ï‡§æ ‡§®‡§æ‡§Æ:</label>
                <input type="text" id="yourNameInput" placeholder="‡§Ø‡§π‡§æ‡§Å ‡§Ö‡§™‡§®‡§æ ‡§®‡§æ‡§Æ ‡§≤‡§ø‡§ñ‡•á‡§Ç">
                <button id="previewButton" class="button-common">
                    <span class="button-icon">üëÄ</span> ‡§∂‡•Å‡§≠‡§ï‡§æ‡§Æ‡§®‡§æ ‡§¶‡•á‡§ñ‡•á‡§Ç
                </button>
                <button id="generateAndShareButton" class="button-common">
                    <span class="button-icon">
                        <svg aria-hidden="true" focusable="false" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" style="width: 20px; height: 20px;">
                            <path fill="currentColor" d="M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.5-7c-18.4-28.4-28.2-61.4-28.2-96.3 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"></path>
                        </svg>
                    </span>
                    ‡§µ‡•ç‡§π‡§æ‡§ü‡•ç‡§∏‡§è‡§™ ‡§™‡§∞ ‡§∂‡•á‡§Ø‡§∞ ‡§ï‡§∞‡•á‡§Ç
                </button>
            </div>
            <div id="fallbackShareOptions">
                <p>‡§á‡§∏ ‡§≤‡§ø‡§Ç‡§ï ‡§ï‡•ã ‡§ï‡•â‡§™‡•Ä ‡§ï‡§∞‡§ï‡•á ‡§∂‡•á‡§Ø‡§∞ ‡§ï‡§∞‡•á‡§Ç:</p>
                <a id="shareableLinkFallback" href="#" target="_blank"></a>
                <button id="copyLinkButtonFallback" class="button-common">‡§ï‡•â‡§™‡•Ä ‡§ï‡§∞‡•á‡§Ç</button>
            </div>
        </div> 
    </div> 

    <div id="watermark">Gautam Sinha</div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // ‡§á‡§Ç‡§ü‡•ç‡§∞‡•ã ‡§∏‡•ç‡§ï‡•ç‡§∞‡•Ä‡§® ‡§∏‡•á ‡§∏‡§Ç‡§¨‡§Ç‡§ß‡§ø‡§§ JS ‡§π‡§ü‡§æ ‡§¶‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ ‡§π‡•à
            // const introScreen = document.getElementById('introScreen');
            // const magicRakhi = document.getElementById('magicRakhi');
            const mainContentWrapper = document.querySelector('.main-content-wrapper'); // ‡§Ø‡§π ‡§Ö‡§≠‡•Ä ‡§≠‡•Ä ‡§â‡§™‡§Ø‡•ã‡§ó‡•Ä ‡§π‡•ã ‡§∏‡§ï‡§§‡§æ ‡§π‡•à, ‡§Ø‡§æ ‡§Ü‡§™ ‡§á‡§∏‡•á ‡§π‡§ü‡§æ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç ‡§Ö‡§ó‡§∞ ‡§ú‡§∞‡•Ç‡§∞‡§§ ‡§®‡§π‡•Ä‡§Ç

            const rakhiSong = document.getElementById('rakhiSong');
            const playMuteButton = document.getElementById('playMuteButton');
            let isPlaying = false;
            let userInteractedOnMainPage = false;

            const greetingMessageContainerEl = document.getElementById('greetingMessageContainer');
            const yourNameInput = document.getElementById('yourNameInput');
            const previewButton = document.getElementById('previewButton');
            const generateAndShareButton = document.getElementById('generateAndShareButton');
            const fallbackShareOptionsEl = document.getElementById('fallbackShareOptions');
            const shareableLinkFallbackEl = document.getElementById('shareableLinkFallback');
            const copyLinkButtonFallbackEl = document.getElementById('copyLinkButtonFallback');
            const firecrackerContainer = document.getElementById('firecrackerContainer'); 
            const fireflyContainer = document.getElementById('fireflyContainer');

            // mainContentWrapper ‡§ï‡•ã ‡§∏‡•Ä‡§ß‡•á ‡§¶‡•É‡§∂‡•ç‡§Ø‡§Æ‡§æ‡§® ‡§ï‡§∞‡•á‡§Ç
            if(mainContentWrapper) mainContentWrapper.classList.add('visible');


            if (rakhiSong && playMuteButton) {
                rakhiSong.load();
                function attemptPlaySongOnMain() {
                    if (rakhiSong.paused && !isPlaying && userInteractedOnMainPage) {
                        rakhiSong.play().then(() => {
                            isPlaying = true;
                            playMuteButton.textContent = 'üîá';
                        }).catch(error => console.warn("‡§ó‡§æ‡§®‡§æ ‡§™‡•ç‡§≤‡•á ‡§Æ‡•á‡§Ç ‡§µ‡§ø‡§´‡§≤:", error));
                    }
                }
                playMuteButton.addEventListener('click', () => {
                    userInteractedOnMainPage = true; 
                    if (!isPlaying) {
                        attemptPlaySongOnMain();
                    } else {
                        rakhiSong.pause();
                        isPlaying = false;
                        playMuteButton.textContent = 'üîä';
                    }
                });
                if (previewButton) { 
                    previewButton.addEventListener('click', () => {
                        userInteractedOnMainPage = true;
                        if (rakhiSong && rakhiSong.paused && !isPlaying) {
                           attemptPlaySongOnMain();
                        }
                         // ... (previewButton ‡§ï‡§æ ‡§¨‡§æ‡§ï‡•Ä ‡§ï‡§æ ‡§≤‡•â‡§ú‡§ø‡§ï)
                        const nameEntered = yourNameInput.value.trim();
                        if (nameEntered === "") { alert("‡§ï‡•É‡§™‡§Ø‡§æ ‡§Ö‡§™‡§®‡§æ ‡§®‡§æ‡§Æ ‡§°‡§æ‡§≤‡•á‡§Ç‡•§"); yourNameInput.focus(); return; }
                        currentSenderNameFromInput = encodeURIComponent(nameEntered); 
                        updateGreetingAndCountdown(currentSenderNameFromInput); 
                        previewButton.style.display = 'none'; 
                        yourNameInput.disabled = true; 
                        generateAndShareButton.style.display = 'inline-flex'; 
                        createFirecracker(window.innerWidth * 0.3, window.innerHeight * 0.15);
                        setTimeout(() => createFirecracker(window.innerWidth * 0.7, window.innerHeight * 0.2), 200);
                    });
                }
            } else {
                if(playMuteButton) playMuteButton.style.display = 'none';
            }
            
            const urlParams = new URLSearchParams(window.location.search);
            let currentSenderNameFromInput = null; 
            const rakhiDateTimeString = "August 19, 2025 03:00:00"; 
            const rakhiDate = new Date(rakhiDateTimeString).getTime();
            let countdownInterval;

            function formatTimeUnit(value, unit) { return `${value} ${unit}`; }
            function updateGreetingAndCountdown(senderNameForGreeting) {
                const now = new Date().getTime();
                const distance = rakhiDate - now;
                let htmlContent = '';
                const displayName = senderNameForGreeting ? `<div class="greeting-line greeting-sender-name">${decodeURIComponent(senderNameForGreeting)}</div>` : `<div class="greeting-line greeting-sender-name default-greeting-name">‡§Ü‡§™‡§ï‡•ã ‡§î‡§∞ ‡§Ü‡§™‡§ï‡•á ‡§™‡•Ç‡§∞‡•á ‡§™‡§∞‡§ø‡§µ‡§æ‡§∞ ‡§ï‡•ã</div>`; 
                const fromText = senderNameForGreeting ? `<div class="greeting-line from-text">‡§ï‡•Ä ‡§§‡§∞‡§´ ‡§∏‡•á</div>` : "";
                const toFamilyText = senderNameForGreeting ? `<div class="greeting-line to-family-text">‡§Ü‡§™‡§ï‡•ã ‡§î‡§∞ ‡§Ü‡§™‡§ï‡•á ‡§™‡•Ç‡§∞‡•á ‡§™‡§∞‡§ø‡§µ‡§æ‡§∞ ‡§ï‡•ã</div>` : "";
                if (distance > 0) {
                    const days = Math.floor(distance / (1000 * 60 * 60 * 24));
                    const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                    const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                    const seconds = Math.floor((distance % (1000 * 60)) / 1000);
                    let countdownParts = [];
                    if (days > 0) countdownParts.push(formatTimeUnit(days, "‡§¶‡§ø‡§®"));
                    if (hours > 0 || days > 0) countdownParts.push(formatTimeUnit(hours, "‡§ò‡§Ç‡§ü‡•á"));
                    if (minutes > 0 || hours > 0 || days > 0) countdownParts.push(formatTimeUnit(minutes, "‡§Æ‡§ø‡§®‡§ü"));
                    countdownParts.push(formatTimeUnit(seconds, "‡§∏‡•á‡§ï‡§Ç‡§°"));
                    const countdownFigures = `<span class="countdown-timer">${countdownParts.join(' ')}</span>`;
                    const timerLine = `<div class="greeting-line timer-line">${countdownFigures} ‡§™‡§π‡§≤‡•á</div>`; 
                    htmlContent = `${displayName}${fromText}${toFamilyText}${timerLine}<div class="greeting-line rakhi-text">‡§∞‡§ï‡•ç‡§∑‡§æ‡§¨‡§Ç‡§ß‡§® ‡§ï‡•Ä</div><div class="greeting-line main-wish">‡§π‡§æ‡§∞‡•ç‡§¶‡§ø‡§ï ‡§∂‡•Å‡§≠‡§ï‡§æ‡§Æ‡§®‡§æ‡§è‡§Å!</div>`;
                } else {
                    clearInterval(countdownInterval);
                    const today = new Date(); const rakhiEventDate = new Date(rakhiDate);
                    let occasionText = "‡§∞‡§ï‡•ç‡§∑‡§æ‡§¨‡§Ç‡§ß‡§® ‡§ï‡•Ä"; let wishText = "‡§™‡•ç‡§Ø‡§æ‡§∞ ‡§≠‡§∞‡•Ä ‡§∂‡•Å‡§≠‡§ï‡§æ‡§Æ‡§®‡§æ‡§è‡§Å!";
                    if (today.getFullYear() === rakhiEventDate.getFullYear() && today.getMonth() === rakhiEventDate.getMonth() && today.getDate() === rakhiEventDate.getDate()) {
                        occasionText = "‡§Ü‡§ú ‡§∞‡§ï‡•ç‡§∑‡§æ‡§¨‡§Ç‡§ß‡§® ‡§ï‡•á"; wishText = "‡§¨‡§π‡•Å‡§§-‡§¨‡§π‡•Å‡§§ ‡§∂‡•Å‡§≠‡§ï‡§æ‡§Æ‡§®‡§æ‡§è‡§Å!";
                    }
                    htmlContent = `${displayName}${fromText}${toFamilyText}<div class="greeting-line timer-line" style="font-size:1.5em;">‡§á‡§∏ ‡§™‡§æ‡§µ‡§® ‡§§‡•ç‡§Ø‡•å‡§π‡§æ‡§∞ ‡§™‡§∞</div><div class="greeting-line rakhi-text">${occasionText}</div><div class="greeting-line main-wish">${wishText}</div>`;
                }
                greetingMessageContainerEl.innerHTML = htmlContent;
            }

            const initialSenderName = urlParams.get('sender');
            updateGreetingAndCountdown(initialSenderName); 
            if (countdownInterval) clearInterval(countdownInterval);
            countdownInterval = setInterval(() => {
                const nameForInterval = currentSenderNameFromInput || initialSenderName;
                updateGreetingAndCountdown(nameForInterval);
            }, 1000);
            
            copyLinkButtonFallbackEl.addEventListener('click', () => {
                const linkToCopy = shareableLinkFallbackEl.href;
                if (linkToCopy && linkToCopy !== '#') {
                    navigator.clipboard.writeText(linkToCopy).then(() => {
                        copyLinkButtonFallbackEl.textContent = "‡§ï‡•â‡§™‡•Ä ‡§π‡•ã ‡§ó‡§Ø‡§æ!";
                        setTimeout(() => { copyLinkButtonFallbackEl.textContent = "‡§ï‡•â‡§™‡•Ä ‡§ï‡§∞‡•á‡§Ç"; }, 2000);
                    }).catch(err => { console.error('‡§≤‡§ø‡§Ç‡§ï ‡§ï‡•â‡§™‡•Ä ‡§ï‡§∞‡§®‡•á ‡§Æ‡•á‡§Ç ‡§µ‡§ø‡§´‡§≤: ', err); alert("‡§≤‡§ø‡§Ç‡§ï ‡§ï‡•â‡§™‡•Ä ‡§ï‡§∞‡§®‡•á ‡§Æ‡•á‡§Ç ‡§¶‡§ø‡§ï‡•ç‡§ï‡§§ ‡§π‡•Å‡§à‡•§"); });
                }
            });

            generateAndShareButton.addEventListener('click', () => {
                if (!currentSenderNameFromInput) { alert("‡§ï‡•É‡§™‡§Ø‡§æ ‡§™‡§π‡§≤‡•á ‡§∂‡•Å‡§≠‡§ï‡§æ‡§Æ‡§®‡§æ ‡§¶‡•á‡§ñ‡•á‡§Ç‡•§"); return; }
                userInteractedOnMainPage = true;
                const baseUrl = window.location.href.split('?')[0];
                const newLink = `${baseUrl}?sender=${currentSenderNameFromInput}`;
                const greetingText = `${decodeURIComponent(currentSenderNameFromInput)} ‡§ï‡•Ä ‡§§‡§∞‡§´ ‡§∏‡•á ‡§∞‡§ï‡•ç‡§∑‡§æ‡§¨‡§Ç‡§ß‡§® ‡§ï‡•Ä ‡§∂‡•Å‡§≠‡§ï‡§æ‡§Æ‡§®‡§æ‡§è‡§Å! üéâ`;
                const linkInstruction = `‡§Ø‡§π ‡§™‡•ç‡§Ø‡§æ‡§∞‡§æ ‡§∏‡§æ ‡§∏‡§Ç‡§¶‡•á‡§∂ ‡§¶‡•á‡§ñ‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§®‡•Ä‡§ö‡•á ‡§¶‡§ø‡§è ‡§≤‡§ø‡§Ç‡§ï ‡§™‡§∞ ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§∞‡•á‡§Ç:`;
                const whatsappMessage = encodeURIComponent(greetingText) + "%0A%0A" + encodeURIComponent(linkInstruction) + "%0A" + encodeURIComponent(newLink); 
                const whatsappUrl = `https://api.whatsapp.com/send?text=${whatsappMessage}`;

                if (navigator.share) {
                    navigator.share({
                        title: '‡§∞‡§ï‡•ç‡§∑‡§æ‡§¨‡§Ç‡§ß‡§® ‡§ï‡•Ä ‡§∂‡•Å‡§≠‡§ï‡§æ‡§Æ‡§®‡§æ‡§è‡§Å',
                        text: `${decodeURIComponent(currentSenderNameFromInput)} ‡§ï‡•Ä ‡§§‡§∞‡§´ ‡§∏‡•á ‡§∞‡§ï‡•ç‡§∑‡§æ‡§¨‡§Ç‡§ß‡§® ‡§ï‡•Ä ‡§∂‡•Å‡§≠‡§ï‡§æ‡§Æ‡§®‡§æ‡§è‡§Å! üéâ\n‡§Ø‡§π ‡§™‡•ç‡§Ø‡§æ‡§∞‡§æ ‡§∏‡§æ ‡§∏‡§Ç‡§¶‡•á‡§∂ ‡§¶‡•á‡§ñ‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§∞‡•á‡§Ç: ${newLink}`,
                    }).then(() => console.log('‡§∏‡§´‡§≤‡§§‡§æ‡§™‡•Ç‡§∞‡•ç‡§µ‡§ï ‡§∂‡•á‡§Ø‡§∞ ‡§ï‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ'))
                      .catch((error) => { console.log('‡§∂‡•á‡§Ø‡§∞ ‡§ï‡§∞‡§®‡•á ‡§Æ‡•á‡§Ç ‡§§‡•ç‡§∞‡•Å‡§ü‡§ø:', error); tryToOpenWhatsAppOrShowFallback(whatsappUrl, newLink); });
                } else {
                    tryToOpenWhatsAppOrShowFallback(whatsappUrl, newLink);
                }
                createFirecracker(window.innerWidth * 0.2, window.innerHeight * 0.25);
                setTimeout(() => createFirecracker(window.innerWidth * 0.8, window.innerHeight * 0.2), 200);
                setTimeout(() => createFirecracker(window.innerWidth * 0.5, window.innerHeight * 0.15), 400);
            });

            function tryToOpenWhatsAppOrShowFallback(whatsappUrl, fallbackLink) {
                var newWindow = window.open(whatsappUrl, '_blank');
                shareableLinkFallbackEl.href = fallbackLink;
                shareableLinkFallbackEl.textContent = fallbackLink;
                fallbackShareOptionsEl.style.display = 'block';
            }

            function createFirecracker(x, y) { 
                if (!firecrackerContainer) return;
                const baseNumParticles = 20; 
                const numParticles = (baseNumParticles * 3) + Math.floor(Math.random() * (baseNumParticles * 1.5));
                const colors = [ '#FFD700', '#FFFFE0', '#DAA520', '#FFC107', '#FF8C00', '#FFA500', '#FF4500', '#FF6347', '#E6E6FA', '#D8BFD8', '#BDB76B', '#F0E68C', '#FFFACD', '#9370DB', '#BA55D3', '#FF69B4' ]; 
                for (let i = 0; i < numParticles; i++) {
                    const particle = document.createElement('div'); particle.classList.add('particle');
                    const angle = Math.random() * Math.PI * 2; 
                    const distance = Math.random() * 150 + 50; 
                    particle.style.setProperty('--tx', Math.cos(angle) * distance + 'px'); 
                    particle.style.setProperty('--ty', Math.sin(angle) * distance + 'px');
                    const chosenColor = colors[Math.floor(Math.random() * colors.length)]; 
                    particle.style.background = chosenColor;
                    particle.style.boxShadow = `0 0 6px ${chosenColor}, 0 0 12px ${chosenColor}, 0 0 18px ${chosenColor}BB`; 
                    const particleSize = Math.random() * 3 + 4 + 'px'; 
                    particle.style.width = particleSize; particle.style.height = particleSize;
                    particle.style.left = x + 'px'; particle.style.top = y + 'px';
                    firecrackerContainer.appendChild(particle); 
                    particle.addEventListener('animationend', () => { particle.remove(); });
                }
            }
            
            function createFireflies(numFireflies) {
                if (!fireflyContainer) return;
                for (let i = 0; i < numFireflies; i++) {
                    const firefly = document.createElement('div');
                    firefly.classList.add('firefly');
                    firefly.style.left = Math.random() * 100 + 'vw';
                    firefly.style.top = Math.random() * -50 - 20 + 'px';
                    const duration = Math.random() * 6 + 6; 
                    firefly.style.animationDuration = duration + 's';
                    firefly.style.animationDelay = Math.random() * duration + 's';
                    fireflyContainer.appendChild(firefly);
                    firefly.addEventListener('animationiteration', () => {
                        firefly.style.left = Math.random() * 100 + 'vw';
                        firefly.style.top = Math.random() * -50 - 20 + 'px';
                        firefly.style.animationDelay = '0s';
                    });
                }
            }

            const initialBurstCount = 4; 
            for (let i = 0; i < initialBurstCount; i++) { 
                // ‡§∂‡•Å‡§∞‡•Å‡§Ü‡§§‡•Ä ‡§™‡§ü‡§æ‡§ñ‡•á ‡§•‡•ã‡§°‡§º‡•á ‡§µ‡§ø‡§≤‡§Ç‡§¨ ‡§∏‡•á ‡§§‡§æ‡§ï‡§ø ‡§™‡•á‡§ú ‡§™‡§π‡§≤‡•á ‡§≤‡•ã‡§° ‡§π‡•ã ‡§ú‡§æ‡§è
                setTimeout(() => { createFirecracker( Math.random() * window.innerWidth * 0.8 + window.innerWidth * 0.1, Math.random() * window.innerHeight * 0.35 + 50 ); }, 800 + i * 500); 
            }
            createFireflies(30);

        });
    </script>
<body><script type="text/javascript">
	atOptions = {
		'key' : 'cb4b58492806479c22757b2ea0848b27',
		'format' : 'iframe',
		'height' : 60,
		'width' : 468,
		'params' : {}
	};
</script>
<script type="text/javascript" src="//www.highperformanceformat.com/cb4b58492806479c22757b2ea0848b27/invoke.js"></script></body>
</body>
</html>